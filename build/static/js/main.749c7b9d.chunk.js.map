{"version":3,"sources":["styles/modules/common.module.scss","components/ShowmoreButton/ShowmoreButton.module.scss","containers/Header/Header.function.js","components/ShowmoreButton/ShowmoreButton.js","containers/Main/Main.function.js","assets/Atom.svg","app/App.js","hooks/useFetchState.js","index.js","containers/Header/Header.module.scss","containers/Main/Main.module.scss"],"names":["module","exports","Header","children","className","styles","LinkedHeading","link","resetBoxModel","href","SearchForm","input","placeholder","id","handleInput","handleKeyword","type","name","onChange","onKeyUp","htmlFor","a11yHidden","onClick","ShowmoreButton","aria-roledescription","target","rel","title","Main","Card","subtitle","_circle","_circle2","_circle3","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAtom","_ref","svgRef","titleId","props","xmlns","xmlnsXlink","style","margin","display","shapeRendering","width","height","viewBox","preserveAspectRatio","ref","cx","cy","fill","r","attributeName","repeatCount","dur","keyTimes","values","begin","calcMode","ForwardRef","makeApi","word","App","useState","keyword","setKeyword","setInput","api","param","isLoading","setIsLoading","hasError","setHasError","data","setData","newApi","useEffect","a","fetch","response","json","results","albummatches","album","fetchData","useFetchState","albumData","role","message","e","value","map","url","artist","render","document","getElementById"],"mappings":"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","file":"static/js/main.749c7b9d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"a11yHidden\":\"common_a11yHidden__1DkoW\",\"resetBoxModel\":\"common_resetBoxModel__3e2rY\",\"resetList\":\"common_resetList__24ner\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ShowmoreButton_button__3-GPe\"};","import { a11yHidden, resetBoxModel } from 'styles/modules/common.module.scss';\nimport styles from './Header.module.scss';\n\n/* ----- Compound Component ------------------------------------------------ */\n\nexport default function Header({ children }) {\n  return (\n    <header className={styles['header']}>\n      {children}\n    </header>\n  );\n}\n\nHeader.LinkedHeading = function LinkedHeading({ link, children }) {\n  return (\n    <h1 className={resetBoxModel}>\n      <a href={link} className={styles['a']}>{children}</a>\n    </h1>\n  );\n};\n\nHeader.SearchForm = function SearchForm({ input, placeholder, id, handleInput, handleKeyword }) {\n  return (\n    <div className={styles['searchForm']}>\n      <input\n        // value={input}\n        className={styles['flexItem']}\n        type=\"text\"\n        placeholder={placeholder}\n        name={id}\n        id={id}\n        onChange={handleInput}\n        onKeyUp={handleKeyword}\n      />\n      <label htmlFor={id} className={a11yHidden}>{placeholder}</label>\n      <button\n        type=\"button\"\n        className={`${styles['button']} ${styles['flexItem']}`}\n        onClick={handleKeyword}\n      >검색</button>\n    </div>\n  );\n};\n","import styles from './ShowmoreButton.module.scss'\n\nexport default function ShowmoreButton({ link }) {\n  return (\n    <a\n      aria-roledescription=\"button\"\n      href={link}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className={styles['button']}\n      title=\"클릭하여 사이트로 이동\"\n    >더보기</a>\n  );\n}","import ShowmoreButton from 'components/ShowmoreButton/ShowmoreButton';\nimport styles from './Main.module.scss';\n\nexport default function Main({ children }) {\n  return (\n    <div className={styles['main']}>{children}</div>\n  );\n}\n\nMain.Card = function Card({ title, subtitle, link }) {\n  return (\n    <div className={styles['container']}>\n      <section className={styles['card']}>\n        <p className={styles['title']}>{title}</p>\n        <p className={styles['subtitle']}>{subtitle}</p>\n      </section>\n      <ShowmoreButton link={link} />\n    </div>\n  )\n};\n\n// <div>${keyword}에 대한 검색 결과가 없습니다.</div>","var _circle, _circle2, _circle3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAtom(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      margin: \"auto\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 30,\n    cy: 50,\n    fill: \"#eba3b5\",\n    r: 20\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"cx\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    keyTimes: \"0;0.5;1\",\n    values: \"30;70;30\",\n    begin: \"-0.5s\"\n  }))), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 70,\n    cy: 50,\n    fill: \"#815854b4\",\n    r: 20\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"cx\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    keyTimes: \"0;0.5;1\",\n    values: \"30;70;30\",\n    begin: \"0s\"\n  }))), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 30,\n    cy: 50,\n    fill: \"#eba3b5\",\n    r: 20\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"cx\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    keyTimes: \"0;0.5;1\",\n    values: \"30;70;30\",\n    begin: \"-0.5s\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"fill-opacity\",\n    values: \"0;0;1;1\",\n    calcMode: \"discrete\",\n    keyTimes: \"0;0.499;0.5;1\",\n    dur: \"1s\",\n    repeatCount: \"indefinite\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAtom);\nexport default __webpack_public_path__ + \"static/media/Atom.f240917a.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useEffect } from 'react';\nimport './App.scss';\nimport Header from 'containers/Header/Header.function';\nimport Main from 'containers/Main/Main.function';\nimport useFetchState from 'hooks/useFetchState';\nimport { ReactComponent as Atom } from 'assets/Atom.svg';\n\nconst homelink = 'https://ahnanne.github.io/music';\n\nconst makeApi = word => {\n  return `https://ws.audioscrobbler.com/2.0/?method=album.search&album=${word}&api_key=fca820d24322bcf89930e8d4ab63a2e1&format=json`;\n};\n\n/* -------------------------------------------------------------------------- */\n\nfunction App() {\n  const [keyword, setKeyword] = useState('');\n  const [input, setInput] = useState('');\n  // const [api, setApi] = useState(() => `https://ws.audioscrobbler.com/2.0/?method=album.search&album=${keyword}&api_key=fca820d24322bcf89930e8d4ab63a2e1&format=json`);\n  \n  const [isLoading, hasError, albumData] = useFetchState(makeApi, keyword);\n\n  const handleInput = e => {\n    setInput(e.target.value);\n  };\n\n  const handleKeyword = e => {\n    if (e.key === 'Enter' || e.target.type === 'button') {\n      if (input === '') return;\n\n      setKeyword(input);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <Atom />\n    );\n  }\n\n  if (hasError) { // 에러가 발생한 상황에서 렌더링\n    return (\n      <div role=\"alert\">{hasError.message}</div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <Header>\n        <Header.LinkedHeading link={homelink}>\n          앨범 찾기 :)\n        </Header.LinkedHeading>\n        <Header.SearchForm\n          placeholder=\"가수명, 노래 제목, 앨범 이름으로 검색하기\"\n          id=\"searchAlbum\"\n          input={input}\n          handleInput={handleInput}\n          handleKeyword={handleKeyword}\n        />\n      </Header>\n\n      <Main>\n        {\n          albumData?.map(({ url, name: title, artist }) => (\n            <Main.Card\n              key={url}\n              title={title}\n              subtitle={artist}\n              link={url}\n            />\n          ))\n        }\n      </Main>\n    </div>\n  )\n}\n\nexport default App\n","import { useState, useEffect } from 'react';\n\n/**\nconst NETWORK_STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  resolved: 'resolved',\n  rejected: 'rejected',\n}\n */\n\nexport default function useFetchState(api, param) { // api는 param을 이용하여 url을 만드는 function\n  // const { idle, pending, resolved, rejected } = NETWORK_STATUS;\n\n  /**\n  API가 과도하게 호출되는 것을 방지하기 위해,\n  최초 렌더링은 하지 않음.\n  */\n\n  const [isLoading, setIsLoading] = useState(false);\n  // isLoading 대신 status를 사용하여 NETWORK_STATUS에 따른 상태 관리를 할 수 있음.\n  const [hasError, setHasError] = useState(false);\n  const [data, setData] = useState([]);\n\n  const newApi = api(param);\n  \n  useEffect(() => {\n    // setIsLoading(true);\n\n    if (api(param) === 'https://ws.audioscrobbler.com/2.0/?method=album.search&album=&api_key=fca820d24322bcf89930e8d4ab63a2e1&format=json') {\n      setIsLoading(false);\n      return;\n    }\n\n    const fetchData = async function() {\n      try {\n        const response = await fetch(newApi);\n        const json = await response.json();\n        \n        setData(json?.results?.albummatches?.album);\n\n        setIsLoading(false);\n      } catch (err) {\n        setHasError(true);\n      }\n    };\n\n    fetchData();\n  }, [api, param, newApi]);\n\n  return [isLoading, hasError, data];\n}\n","import 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport { StrictMode } from 'react'\nimport { render } from 'react-dom'\nimport './styles/index.scss'\n\nimport App from './app/App'\n\nrender(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1m00m\",\"a\":\"Header_a__2Zaia\",\"searchForm\":\"Header_searchForm__3ig4S\",\"flexItem\":\"Header_flexItem__1pmEx\",\"button\":\"Header_button__13hsb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__23gcg\",\"container\":\"Main_container__3NLYU\",\"title\":\"Main_title__2nIQV\",\"subtitle\":\"Main_subtitle__2mCUG\"};"],"sourceRoot":""}